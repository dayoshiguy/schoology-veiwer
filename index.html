<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Luke's Epic SchoolTools</title>
    </head>
    <body>
<pre id="time"></pre>
<button type="button" id="aday" onclick="setDay('a');">A day</button>
<button type="button" id="bday" onclick="setDay('b');">B day</button>
<button type="button" id="closeall" onclick="closeChildWindows();">Close All Popups</button>
<pre id="pre"></pre>
<script>
/////////////////////////Current Time and Time Left/////////////////////////
var endTime=[470,560,644,678,708,792,876];//7:50,9:20,10:44,11:18,11:48,1:12(13:12),2:36(14:36)
function min(time){
	return time.getHours()*60+time.getMinutes();
}
function minsToHours(min){
	return Math.floor(min/60)+":"+min%60;
}
function getNext(time,n){//0=return end time,1=return time left
	var currTime=min(time);
  var nextEnd=-420;
  for(i=0;i<6;i++){
  	if(endTime[i]>currTime){
    	switch(n){
      	case 0:
          return minsToHours(endTime[i]);
          break;
        case 1:
        	return minsToHours(endTime[i]-currTime);
        	break;
      }
      break;
    }
  }
}
setInterval(function(){
  var date=new Date();
  var secondsLeft=60-1-date.getSeconds();
  document.getElementById("time").innerHTML="Time: "+date.toLocaleTimeString()+"\nClass ends at: "+getNext(date,0)+"\nTime Left: "+getNext(date,1)+":"+secondsLeft;
}, 10);
/////////////////////////Schoology Veiwer/////////////////////////
const width=window.innerWidth;//dimensions of original window
const height=window.innerHeight;
var windowDimensions=[width/2,height/3];//width,height
var classlinks=[["https://popejohn.schoology.com/course/2733731073/materials","https://popejohn.schoology.com/course/2733732062/materials","https://popejohn.schoology.com/course/2733731052/materials","https://popejohn.schoology.com/course/2733732005/materials"],["https://popejohn.schoology.com/course/2733733061/materials","https://popejohn.schoology.com/course/2733732133/materials","https://popejohn.schoology.com/course/2733732990/materials","https://popejohn.schoology.com/course/2733733065/materials"]]//put ur a and b day links here

//for the ability to close the windows
var childWindowHandles = new Array();
function openNewWindow(url, params) {
    childWindowHandles[childWindowHandles.length] = window.open(url, '', params);
}
function closeChildWindows() {
    for (var i=0; i<childWindowHandles.length; i++) 
    {
        if (!childWindowHandles[i].closed)
        {
            childWindowHandles[i].close();
        }
    }
}
//////////////////////////////////////
function setDay(day){
	switch(day){
  case "a":
  closeChildWindows();//close previously opened windows
  	for(y=0;y<2;y++){
      for(x=0;x<2;x++){
      openNewWindow(classlinks[0][y*2+x],"width="+windowDimensions[0]+",height="+windowDimensions[1]+",top="+(y+1)*(windowDimensions[1])+",left="+x*windowDimensions[0]);
      }
    }
    break;
	case "b":
		closeChildWindows();//close previously opened windows
  	for(y=0;y<2;y++){
      for(x=0;x<2;x++){
      openNewWindow(classlinks[1][y*2+x],"width="+windowDimensions[0]+",height="+windowDimensions[1]+",top="+(y+1)*(windowDimensions[1])+",left="+x*windowDimensions[0]);
      }
    }
  }
}

</script>
    </body>
</html>
